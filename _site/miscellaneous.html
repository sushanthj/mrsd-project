

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Miscellaneous yet Useful | Team Dock Dock Go!</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Miscellaneous yet Useful" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="MRSD project Team H’s system description" />
<meta property="og:description" content="MRSD project Team H’s system description" />
<link rel="canonical" href="http://localhost:4000/miscellaneous" />
<meta property="og:url" content="http://localhost:4000/miscellaneous" />
<meta property="og:site_name" content="Team Dock Dock Go!" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Miscellaneous yet Useful" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"MRSD project Team H’s system description","headline":"Miscellaneous yet Useful","url":"http://localhost:4000/miscellaneous"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="http://localhost:4000/" class="site-title lh-tight">
  Team Dock Dock Go!

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Nav2" class="nav-list-link">Nav2</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Nav2/costmap_updates.html" class="nav-list-link">Costmap Plugins</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Simulation" class="nav-list-link">Simulation Development</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Simulation/build_floorplan.html" class="nav-list-link">Gazebo Environment and Mapping</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Simulation/model_basics.html" class="nav-list-link">Understand Model and World Files</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Simulation/navigation.html" class="nav-list-link">Navigating in Simulation</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Simulation/svd_demo.html" class="nav-list-link">Creating Custom World for SVD</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/Simulation/adding_lidar.html" class="nav-list-link">Adding Lidar in Simulation</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/robot_bringup" class="nav-list-link">Robot Bringup</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/robot_bringup/neobotix_orin_networking.html" class="nav-list-link">Neobotix-Orin Networking</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/robot_bringup/neobotix_compute.html" class="nav-list-link">Working on Neobotix Compute</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/robot_bringup/software_arch.html" class="nav-list-link">Localization-Planner-Offboard Comms Integration</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/robot_integration" class="nav-list-link">Robot Software Integration</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/robot_integration/neobotix_orin_networking.html" class="nav-list-link">PCL Localization Integration</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/ros" class="nav-list-link">ROS Learnings</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/ros/basics.html" class="nav-list-link">Basics</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/ros/subscribers.html" class="nav-list-link">Building Subscribers and Publishers</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/intro/" class="nav-list-link">Building this Website</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/software_bringup" class="nav-list-link">Systems Setup</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/software_bringup/ros_setup_2.html" class="nav-list-link">ROS2 on the Jetson and Desktop</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/software_bringup/RealSense.html" class="nav-list-link">RealSense Setup</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/software_bringup/vscode.html" class="nav-list-link">VS Code Setup</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/software_bringup/docker_image_management.html" class="nav-list-link">Docker and Dockerhub</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Mechanical" class="nav-list-link">Mechanical Development</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Mechanical/frame.html" class="nav-list-link">Frame Design</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/SLAM_toolbox" class="nav-list-link">Understanding SLAM Toolbox</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/SLAM_Toolbox/running.html" class="nav-list-link">Running SLAM Toolbox</a></li><li class="nav-list-item "><a href="http://localhost:4000/docs/SLAM_Toolbox/setup.html" class="nav-list-link">Setup for SLAM Toolbox</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/Localization" class="nav-list-link">Robot Localization</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/Localization/AMCL.html" class="nav-list-link">AMCL</a></li></ul></li><li class="nav-list-item"><a href="http://localhost:4000/git_concepts" class="nav-list-link">Git Usage</a></li><li class="nav-list-item active"><a href="http://localhost:4000/miscellaneous" class="nav-list-link active">Miscellaneous yet Useful</a></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Team Dock Dock Go!" aria-label="Search Team Dock Dock Go!" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="https://github.com/orgs/DockDockGo/repositories" class="site-button"
                  
                >
                  Teams's GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 id="ros2">
        
        
          <a href="#ros2" class="anchor-heading" aria-labelledby="ros2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROS2
        
        
      </h1>
    
      <h2 id="time-handling">
        
        
          <a href="#time-handling" class="anchor-heading" aria-labelledby="time-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Time Handling
        
        
      </h2>
    

<p>ROS2 removed the <code class="language-plaintext highlighter-rouge">ros.time.now</code> option which we used to use previously. Now, to get
access of the time, we do the following:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">t</span><span class="p">.</span><span class="n">header</span><span class="p">.</span><span class="n">stamp</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">get_clock</span><span class="p">().</span><span class="n">now</span><span class="p">().</span><span class="n">to_msg</span><span class="p">()</span>
</code></pre></div></div>

<p>This was taken from <a href="https://docs.ros.org/en/foxy/Tutorials/Intermediate/Tf2/Writing-A-Tf2-Broadcaster-Py.html">this example</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">handle_turtle_pose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">TransformStamped</span><span class="p">()</span>

    <span class="c1"># Read message content and assign it to
</span>    <span class="c1"># corresponding tf variables
</span>    <span class="n">t</span><span class="p">.</span><span class="n">header</span><span class="p">.</span><span class="n">stamp</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">get_clock</span><span class="p">().</span><span class="n">now</span><span class="p">().</span><span class="n">to_msg</span><span class="p">()</span>
    <span class="n">t</span><span class="p">.</span><span class="n">header</span><span class="p">.</span><span class="n">frame_id</span> <span class="o">=</span> <span class="s">'world'</span>
    <span class="n">t</span><span class="p">.</span><span class="n">child_frame_id</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">turtlename</span>
</code></pre></div></div>
      <h2 id="installing-rqt-graph">
        
        
          <a href="#installing-rqt-graph" class="anchor-heading" aria-labelledby="installing-rqt-graph"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installing RQT Graph
        
        
      </h2>
    

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>ros-humble-rqt-graph
</code></pre></div></div>
      <h2 id="get-package-directory-in-launch-files">
        
        
          <a href="#get-package-directory-in-launch-files" class="anchor-heading" aria-labelledby="get-package-directory-in-launch-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get package directory in launch files
        
        
      </h2>
    

<p>This is typically useful to get the path of packages in ROS workspaces</p>
      <h3 id="get-share-directory">
        
        
          <a href="#get-share-directory" class="anchor-heading" aria-labelledby="get-share-directory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get share directory
        
        
      </h3>
    

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">ament_index_python.packages</span> <span class="kn">import</span> <span class="n">get_package_share_directory</span>

<span class="k">def</span> <span class="nf">generate_launch_description</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">LaunchDescription</span><span class="p">([</span>
        <span class="n">launch_ros</span><span class="p">.</span><span class="n">actions</span><span class="p">.</span><span class="n">Node</span><span class="p">(</span>
            <span class="n">package</span><span class="o">=</span><span class="s">'robot_localization'</span><span class="p">,</span>
            <span class="n">executable</span><span class="o">=</span><span class="s">'ukf_node'</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="s">'ukf_filter_node'</span><span class="p">,</span>
            <span class="n">output</span><span class="o">=</span><span class="s">'screen'</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_package_share_directory</span><span class="p">(</span><span class="s">"robot_localization"</span><span class="p">),</span> <span class="s">'params'</span><span class="p">,</span> <span class="s">'ukf.yaml'</span><span class="p">)],</span>
           <span class="p">),</span>
<span class="p">])</span>
</code></pre></div></div>
      <h3 id="get-package-directory">
        
        
          <a href="#get-package-directory" class="anchor-heading" aria-labelledby="get-package-directory"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get package directory
        
        
      </h3>
    

<p><img src="/images/miscellaneous/get_pkg_directory.png" alt="" /></p>
      <h2 id="installing-realsense-driver-for-tracking-camera-and-d435i">
        
        
          <a href="#installing-realsense-driver-for-tracking-camera-and-d435i" class="anchor-heading" aria-labelledby="installing-realsense-driver-for-tracking-camera-and-d435i"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installing Realsense Driver for Tracking camera and D435i
        
        
      </h2>
    

<p>Clone the required packages</p>

<ol>
  <li>Build the package realsense2_camera_msgs without any modifications first</li>
  <li>If there’s a dependency issue, install rosdeps
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> rosdep <span class="nb">install</span> <span class="nt">--from-paths</span> src <span class="nt">--ignore-src</span> <span class="nt">-r</span> <span class="nt">-y</span>
 <span class="nb">source</span> /opt/ros/foxy/setup.bash
</code></pre></div>    </div>
  </li>
</ol>
      <h1 id="velodyne">
        
        
          <a href="#velodyne" class="anchor-heading" aria-labelledby="velodyne"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Velodyne
        
        
      </h1>
    

<ul>
  <li>To run the velodyne driver first connect the VLP ethernet to your computer</li>
  <li>Then open 192.168.1.201 on a browser. Scroll down and note the IP address the VLP is set
    <ul>
      <li>usually it’s set to 192.168.1.71</li>
    </ul>
  </li>
  <li>Go to your <strong>wired connection settings</strong> and add set it as shown below</li>
  <li><img src="/images/miscellaneous/vlp_ifconfig.png" alt="" /></li>
</ul>

<p>Now, restart your velodyne driver.</p>
      <h1 id="getting-gui-acces-on-your-docker">
        
        
          <a href="#getting-gui-acces-on-your-docker" class="anchor-heading" aria-labelledby="getting-gui-acces-on-your-docker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Getting GUI acces on your docker
        
        
      </h1>
    

<p>I follow this template for any docker file to allwo for GUI access</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Map host's display socket to docker</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-v /tmp/.X11-unix:/tmp/.X11-unix"</span><span class="o">)</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-v </span><span class="nv">$HOME</span><span class="s2">/.Xauthority:/home/admin/.Xauthority:rw"</span><span class="o">)</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-e DISPLAY"</span><span class="o">)</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-e NVIDIA_VISIBLE_DEVICES=all"</span><span class="o">)</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-e NVIDIA_DRIVER_CAPABILITIES=all"</span><span class="o">)</span>
DOCKER_ARGS+<span class="o">=(</span><span class="s2">"-e FASTRTPS_DEFAULT_PROFILES_FILE=/usr/local/share/middleware_profiles/rtps_udp_profile.xml"</span><span class="o">)</span>

<span class="c"># Run container from image</span>
<span class="c"># print_info "Running humblesim"</span>
docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="se">\</span>
    <span class="nt">--privileged</span> <span class="se">\</span>
    <span class="nt">--network</span> host <span class="se">\</span>
    <span class="k">${</span><span class="nv">DOCKER_ARGS</span><span class="p">[@]</span><span class="k">}</span> <span class="se">\</span>
    <span class="nt">--runtime</span> nvidia <span class="se">\</span>
    <span class="c">############# Only change this portion according to your needs ##############</span>
    <span class="nt">-v</span> /home/sush/mfi/robot-setup-tool/world_files:/home/admin/worlds <span class="se">\</span>
    <span class="nt">-v</span> /dev/<span class="k">*</span>:/dev/<span class="k">*</span> <span class="se">\</span>
    <span class="nt">--name</span> <span class="s2">"humble_sim_docker"</span> <span class="se">\</span>
    <span class="nv">$@</span> <span class="se">\</span>
    sushanthj/humble_sim_mapping_built:latest <span class="se">\</span>
    <span class="c">#############################################################################</span>
    /bin/bash
</code></pre></div></div>
      <h2 id="error-handling-after-above-case">
        
        
          <a href="#error-handling-after-above-case" class="anchor-heading" aria-labelledby="error-handling-after-above-case"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling after above case
        
        
      </h2>
    

<p>Now, after running the above command maybe within a shell script, you might encounter some
weird errors which are display related.</p>

<p>Eg. <code class="language-plaintext highlighter-rouge">glfw error 65544: X11: Failed to open display :1.0
failed to initialize GLFW</code></p>

<p>Now, all such errors can be fixed by giving the docker container access to the GUI by doing</p>

<p><code class="language-plaintext highlighter-rouge">xhost +local:docker</code></p>
      <h2 id="changing-file-ownership">
        
        
          <a href="#changing-file-ownership" class="anchor-heading" aria-labelledby="changing-file-ownership"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Changing File Ownership
        
        
      </h2>
    

<p>This occasionally is a problem when using docker which treats files as sudo. When moving files out of docker
The normal user will not be able to access files created inside the docker because of sudo permissions</p>

<p>Easy Fix</p>
<ul>
  <li>Find the username of the current ubuntu system you are using (eg. mine is always sush)</li>
  <li><code class="language-plaintext highlighter-rouge">sudo chown sush trial.txt</code></li>
  <li>This will change the ownership back to the default user</li>
</ul>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0"></p>

            
              <div class="d-flex mt-2">
                
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>

